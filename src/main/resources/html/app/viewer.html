<link rel="stylesheet" href="app/viewer.css">
<script type="text/javascript" src="app/viewer.js"></script>
<script type="text/javascript" src="app/viewer/measurer.js"></script>

<div class="viewer">
    <div id="divMenuBar">
        <div id="menuBarTop"></div>
        <div class="landscapeOnly">
            <div id="divOrientations"> <!-- display:none -->
                <button class="btnHide" title="Close submenu"><img class="imgHide" src="icon/hide-arrow/16" alt=""></button>
                <div>
                    <p id="lblZoom" class="lblOrientation"  onclick="app.viewer.zoomTo100()">0,00 %</p>
                    <button id="btnZoomOut" class="btnOrientation" title="%{Zoom_out}" style="border-radius: 5px 0 0 5px" onclick="app.viewer.zoomOut()"><img src="icon/zoom-out/24" alt=""></button>
                    <button id="btnFit" class="btnOrientation" title="%{Fit_in_viewport}" style="border-radius: 0" onclick="app.viewer.zoomToFit()"><img src="icon/fit/24" alt=""></button>
                    <button id="btnZoomIn" class="btnOrientation" title="%{Zoom_in}" style="border-radius: 0 5px 5px 0" onclick="app.viewer.zoomIn()"><img src="icon/zoom-in/24" alt=""></button>
                </div>
                <div>
                    <p id="lblRotation" class="lblOrientation" style="margin: 10px 0 10px 0" onclick="app.viewer.rotateTo0()">0Â°</p>
                    <button id="btnRotateLeft" class="btnOrientation" title="%{Rotate_left}" style="border-radius: 5px 0 0 5px" onclick="app.viewer.rotateLeft()"><img src="icon/rotate-left/24" alt=""></button>
                    <button id="btnMirror" class="btnOrientation" title="%{Mirror}" style="border-radius: 0" onclick="app.viewer.mirror()"><img src="icon/mirror/24" alt=""></button>
                    <button id="btnFlip" class="btnOrientation" title="%{Mirror}" style="display: none; border-radius: 0" onclick="app.viewer.flip()"><img src="icon/flip/24" alt=""></button>
                    <button id="btnRotateRight" class="btnOrientation" title="%{Rotate_right}" style="border-radius: 0 5px 5px 0" onclick="app.viewer.rotateRight()"><img src="icon/rotate-right/24" alt=""></button>
                </div>

                <div style="margin: 10px 0 10px 0; padding: 10px 0 0 0">
                    <button id="btnLens" class="btnOrientation" title="%{Magnifying_lens}" style="border-radius: 5px" onclick="app.viewer.toggleLens()"><img src="icon/zoom/24" alt=""></button>
                    <button id="btnInvert" class="btnOrientation" title="%{Negative_image}" style="margin-bottom: 5px" onclick="app.viewer.toggleInverted()"><img src="icon/invert/24" alt=""></button>
                    <button id="btnPlanar" class="btnOrientation" title="%{Coronal_and_saggital_images}" style="margin-bottom: 5px" onclick="app.viewer.showPlanar()"><img src="icon/planar/24" alt=""></button>
                </div>
            </div>

            <div id="divMeasures"> <!-- display:none -->
                <button class="btnHide" title="%{Close_submenu}"><img class="imgHide" src="icon/hide-arrow/16" alt=""></button>
                <div id="divMeasureMain" style="padding: 5px 0 10px 0; border-color: white; border-style: dashed; border-width: 0 0 1px 0">
                    <button id="btnMeasureBack" class="btnMeasure" title="%{Go_back}" disabled style="margin-right: 15px" onclick="app.viewer.measurer.setMeasure(MEASURE_NONE)"><img src="icon/back/24" alt=""></button>
                    <button id="btnMeasureSelectAll" class="btnMeasure" title="%{Select_all}" onclick="app.viewer.measurer.deleteMeasure()" disabled><img src="icon/selectall/24" alt=""></button>
                    <button id="btnMeasureDelete" class="btnMeasure" title="%{Delete_selected_measurements}" onclick="app.viewer.measurer.selectAll()" disabled><img src="icon/delete/24" alt=""></button>
                    <button id="btnMeasureSettings" class="btnMeasure" title="Measuring_settings" onclick="app.viewer.measurer.setMeasure(MEASURE_SETTINGS)"><img src="icon/settings/24" alt=""></button>
                </div>
                <div id="divMeasureNone" style="margin: 10px 0 10px 0">
                    <div>
                        <button id="btnLines" class="btnMeasure" title="%{Lines}" onclick="app.viewer.measurer.setMeasure(MEASURE_LINES)"><img src="icon/line/24" alt=""></button>
                        <button id="btnCircles" class="btnMeasure" title="%{Circles}" onclick="app.viewer.measurer.setMeasure(MEASURE_CIRCLES)"><img src="icon/circle/24" alt=""></button>
                        <button id="btnDots" class="btnMeasure" title="%{Dots}" onclick="app.viewer.measurer.setMeasure(MEASURE_DOTS)"><img src="icon/dots/24" alt=""></button>
                        <button id="btnAngles" class="btnMeasure" title="%{Angles}" onclick="app.viewer.measurer.setMeasure(MEASURE_ANGLES)"><img src="icon/angle/24" alt=""></button>
                    </div>
                    <div style="margin-top: 5px">
                        <button id="btnCobb" class="btnMeasure" title="%{Cobb_angles}" onclick="app.viewer.measurer.setMeasure(MEASURE_COBB)"><img src="icon/cobb/24" alt=""></button>
                        <button id="btnParallels" class="btnMeasure" title="%{Parallel_lines}" onclick="app.viewer.measurer.setMeasure(MEASURE_PARALLELS)"><img src="icon/parallel/24" alt=""></button>
                        <button id="btnPerpendiculars" class="btnMeasure" title="%{Perpendicular_lines}" onclick="app.viewer.measurer.setMeasure(MEASURE_PERPENDICULARS)"><img src="icon/perpendicular/24" alt=""></button>
                        <button id="btnCalibration" class="btnMeasure" title="%{Calibration}" onclick="app.viewer.measurer.setMeasure(MEASURE_CALIBRATION)"><img src="icon/calibration/24" alt=""></button>
                    </div>
                    <div style="margin-top: 10px">
                        <button id="btnVHS" class="btnFullMeasure" title="%{Vertebral_Heart_Score}" onclick="app.viewer.measurer.setMeasure(MEASURE_VHS)">%{VHS}</button>
                        <button id="btnCTR" class="btnFullMeasure" title="%{Cardiothoracic_Ratio}" onclick="app.viewer.measurer.setMeasure(MEASURE_CTR)">%{CTR}</button>
                    </div>
                    <div style="margin-top: 5px">
                        <button id="btnTPA" class="btnFullMeasure" title="%{Tibial_Plateau_Angle}" onclick="app.viewer.measurer.setMeasure(MEASURE_TPA)">%{TPA}</button>
                        <button id="btnTTA" class="btnFullMeasure" title="%{Tibial_Tuberosity_Advancement}" onclick="app.viewer.measurer.setMeasure(MEASURE_TTA)">%{TTA}</button>
                    </div>
                    <div style="margin-top: 5px">
                        <button id="btnDI" class="btnFullMeasure" title="%{Distractive_Index}" onclick="app.viewer.measurer.setMeasure(MEASURE_DI)">%{DI}</button>
                        <button id="btnVEZ" class="btnFullMeasure" title="%{Vezzoni}" onclick="app.viewer.measurer.setMeasure(MEASURE_VEZ)">%{VEZ}</button>
                    </div>
                    <div style="margin-top: 5px">
                        <button id="btnNOA" class="btnFullMeasure" title="%{Norberg_Olsson_Angles}" onclick="app.viewer.measurer.setMeasure(MEASURE_NOA)">%{NOA}</button>
                    </div>
                </div>

                <div id="divMeasureSettings" class="divMeasure">
                    <p><b>%{Settings}</b></p>
                    %{Units}:
                    <label class="lblAnnotation"><input id="radMetric" type="radio" name="radMeasureSystem" class="radMeasure" checked> %{Metric}</label>
                    <label class="lblAnnotation"><input id="radImperial" type="radio" name="radMeasureSystem" class="radMeasure"> %{Imperial}</label>
                </div>
                <div id="divMeasureLines" class="divMeasure">
                    <p>%{Lines}</p>
                    <p class="lblInstructions">%{Draw_a_line}.</p>
                    <label class="lblAnnotation"><input id="radLinesNone" type="radio" name="radLines" class="radMeasure"> %{No_annotation}</label>
                    <label class="lblAnnotation"><input type="radio" name="radLines" class="radMeasure" checked> %{Length}</label>
                </div>
                <div id="divMeasureCircles" class="divMeasure">
                    <p>%{Circles}</p>
                    <p class="lblInstructions">%{Draw_a_circle}.</p>
                    <label class="lblAnnotation"><input id="radCirclesNone" type="radio" name="radCircles" class="radMeasure"> %{No_annotation}</label>
                    <label class="lblAnnotation"><input id="radCirclesRadius" type="radio" name="radCircles" class="radMeasure" checked> %{Radius}</label>
                    <label class="lblAnnotation"><input id="radCirclesDiameter" type="radio" name="radCircles" class="radMeasure"> %{Diameter}</label>
                    <label class="lblAnnotation"><input id="radCirclesCircumference" type="radio" name="radCircles" class="radMeasure"> %{Circumference}</label>
                    <label class="lblAnnotation"><input id="radCirclesSurface" type="radio" name="radCircles" class="radMeasure"> %{Surface}</label>
                </div>
                <div id="divMeasureDots" class="divMeasure">
                    <p>%{Dots}</p>
                    <p class="lblInstructions">%{Draw_dots}.</p>
                    <label class="lblAnnotation"><input id="radDotsNone" type="radio" name="radDots" class="radMeasure"> %{No_annotation}</label>
                    <label class="lblAnnotation"><input type="radio" name="radDots" class="radMeasure" checked> %{Coordinates}</label>
                </div>
                <div id="divMeasureAngles" class="divMeasure">
                    <p>%{Angles}</p>
                    <p class="lblInstructionsActive" id="lblAngles1">1. %{Draw_a_line} [ab].</p>
                    <p class="lblInstructions" id="lblAngles2">2. %{Draw_a_second_line} [bc].</p>
                    <label class="lblAnnotation"><input id="radAnglesNone" type="radio" name="radAngles" class="radMeasure"> %{No_annotation}</label>
                    <label class="lblAnnotation"><input id="radInnerAngle" type="radio" name="radAngles" class="radMeasure" checked> Inner angle</label>
                    <label class="lblAnnotation"><input id="radOuterAngle" type="radio" name="radAngles" class="radMeasure"> Outer angle</label>
                </div>
                <div id="divMeasureCobb" class="divMeasure">
                    <p>%{Cobb_angles}</p>
                    <p class="lblInstructionsActive" id="lblCobb1">1. %{Draw_a_line} [ab].</p>
                    <p class="lblInstructions" id="lblCobb2">2. %{Draw_a_second_line} [cd].</p>
                </div>
                <div id="divMeasureParallels" class="divMeasure">
                    <p>%{Parallel_lines}</p>
                    <p class="lblInstructionsActive" id="lblParallels1">1. %{Draw_a_line}.</p>
                    <p class="lblInstructions" id="lblParallels2">2. %{Draw_a_second_line}, %{parallel_to_the_first}.</p>
                    <label class="lblAnnotation"><input id="radParallelsNone" type="radio" name="radParallels" class="radMeasure"> %{No_annotation}</label>
                    <label class="lblAnnotation"><input type="radio" name="radParallels" class="radMeasure" checked> %{Distance}</label>
                </div>
                <div id="divMeasurePerpendiculars" class="divMeasure">
                    <p>%{Perpendicular_lines}</p>
                    <p class="lblInstructionsActive" id="lblPerpendiculars1">1. %{Draw_a_line}.</p>
                    <p class="lblInstructions" id="lblPerpendiculars2">2. %{Draw_a_second_line}, %{perpendicular_to_the_first}.</p>
                </div>
                <div id="divMeasureCalibration" class="divMeasure">
                    <p>%{Calibration}</p>
                    <p class="lblInstructionsActive" id="lblCalibration1">1. %{Calib-1}.</p>
                    <p class="lblInstructions" id="lblCalibration2">2. %{Calib-2}.</p>
                    <div style="width: 100%; text-align: center">
                        <button id="btnCalibrate1" class="btnMeasure" onclick="app.viewer.measurer.calibrate(1)">1 cm</button>
                        <button id="btnCalibrate2" class="btnMeasure" onclick="app.viewer.measurer.calibrate(2)">2 cm</button>
                        <button id="btnCalibrate5" class="btnMeasure" onclick="app.viewer.measurer.calibrate(5)">5 cm</button>
                    </div>
                    <div style="margin-top: 5px; width: 100%; text-align: center">
                        <button id="btnCalibrateCustom" class="btnMeasure" onclick="app.viewer.measurer.calibrate(null)">%{Custom}</button>
                        <button id="btnCalibrateReset" class="btnMeasure" onclick="app.viewer.measurer.resetCalibration()">%{Reset}</button>
                    </div>
                </div>
                <div id="divMeasureVHS" class="divMeasure">
                    <p>%{Vertebral_Heart_Score}</p>
                    <p class="lblInstructionsActive" id="lblVHS1">1. %{Vhs-1}.</p>
                    <p class="lblInstructions" id="lblVHS2">2. %{Vhs-2}.</p>
                    <p class="lblInstructions" id="lblVHS3">3. %{Vhs-3}.</p>
                </div>
                <div id="divMeasureCTR" class="divMeasure">
                    <p>%{Cardiothoracic_Ratio}</p>
                    <p class="lblInstructionsActive" id="lblCTR1">1. %{Ctr-1}.</p>
                    <p class="lblInstructions" id="lblCTR2">2. %{Ctr-2}.</p>
                    <p class="lblInstructions" id="lblCTR3">3. %{Ctr-3}.</p>
                    <p class="lblInstructions" id="lblCTR4">4. %{Ctr-4}.</p>
                </div>
                <div id="divMeasureTPA" class="divMeasure">
                    <p>%{Tibial_Plateau_Angle}</p>
                    <p class="lblInstructionsActive" id="lblTPA1">1. %{Tpa-1}.</p>
                    <p class="lblInstructions" id="lblTPA2">2. %{Tpa-2}.</p>
                    <p class="lblInstructions" id="lblTPA3">3. %{Tpa-3}.</p>
                </div>
                <div id="divMeasureTTA" class="divMeasure">
                    <p>%{Tibial_Tuberosity_Advancement}</p>
                    <p class="lblInstructionsActive" id="lblTTA1">1. %{Tta-1}.</p>
                    <p class="lblInstructions" id="lblTTA2">2. %{Tta-2}.</p>
                    <p class="lblInstructions" id="lblTTA3">3. %{Tta-3}.</p>
                </div>
                <div id="divMeasureDI" class="divMeasure">
                    <p>%{Distractive_Index}</p>
                    <p class="lblInstructionsActive" id="lblDI1">1. %{Di-1}.</p>
                    <p class="lblInstructions" id="lblDI2">2. %{Di-2}.</p>
                </div>
                <div id="divMeasureVEZ" class="divMeasure">
                    <p>%{Vezzoni}</p>
                    <p class="lblInstructionsActive" id="lblVEZ1">1. %{Vez-1}.</p>
                    <p class="lblInstructions" id="lblVEZ2">2. %{Vez-2}.</p>
                </div>
                <div id="divMeasureNOA" class="divMeasure">
                    <p>%{Norberg_Olsson_Angles}</p>
                    <p class="lblInstructionsActive" id="lblNOA1">1. %{noa-1}.</p>
                    <p class="lblInstructions" id="lblNOA2">2. %{noa-2}.</p>
                    <p class="lblInstructions" id="lblNOA3">3. %{noa-3}.</p>
                    <p class="lblInstructions" id="lblNOA4">4. %{noa-4}.</p>
                </div>

                <div id="divMeasureSave" style="padding: 10px; border-color: white; border-style: dashed; border-width: 1px 0 0 0">
                    <button id="btnMeasureSave" class="green btnFullMeasure" title="%{Save_measurements}"  onclick="app.viewer.measurer.saveMeasure()"><img src="icon/save/24" alt=""></button>
                </div>
            </div>
        </div>
    </div>
    <div id="divViewerBar">
        <div id="viewerBarTop">
            <button id="btnListviews" class="btnViewerBarTab btnViewerBarActiveTab landscapeOnly" style="margin-bottom: 5px" title="%{Number_of_thumbnails}" onclick="app.viewer.showListviewDialog()"><img src="icon/menus/24" alt=""></button>
            <button id="btnViewports" class="btnViewerBar" style="margin-bottom: 5px" title="%{Number_of_viewports}" onclick="app.viewer.showViewportsDialog()"><img src="icon/viewports/24" alt=""></button>
            <button id="btnNext" class="btnViewerBar landscapeOnly" style="margin-bottom: 5px" title="%{Next_series}" onclick="app.viewer.next()"><img src="icon/forward/24" alt=""></button>
            <button id="btnPrevious" class="btnViewerBar landscapeOnly" style="margin-bottom: 5px" title="%{Previous_series}" onclick="app.viewer.previous()"><img src="icon/back/24" alt=""></button>
            <button id="btnInfo" class="btnViewerBar" style="margin-bottom: 5px" title="%{Show_hide_annotations}" onclick="app.viewer.toggleInfo()"><img src="icon/info/24" alt=""></button>
            <button id="btnSplit" class="btnViewerBar landscapeOnly" style="margin-bottom: 5px" title="%{Split_study}" onclick="app.viewer.showSplitDialog()"><img src="icon/split/24" alt=""></button>
            <button id="btnDownload" class="btnViewerBar landscapeOnly" style="margin-bottom: 5px" title="%{Download_series}" onclick="app.viewer.showDownloadDialog()"><img src="icon/download/24" alt=""></button>
            <button id="btnSaveCopy" class="btnViewerBar landscapeOnly" style="margin-bottom: 5px" title="%{Save_copy}" onclick="app.viewer.saveCopy()"><img src="icon/save/24" alt=""></button>
            <button id="btnReopen" class="btnViewerBar landscapeOnly" style="margin-bottom: 5px; display: none" title="%{Reopen_study}" onclick="app.viewer.reopen()"><img src="icon/photo/24" alt=""></button>
            <button id="btnSend" class="btnViewerBar landscapeOnly flexButton" style="margin-bottom: 5px; display: none" title="%{Send_study}" onclick="app.viewer.sendDicom()"></button>
        </div>
        <div id="viewerBarBottom">
            <button id="btnWindow" class="btnViewerBar portraitOnly" style="border-radius: 5px 0 0 5px" onclick="app.viewer.toggleSwiping()"><img src="icon/brightness/24" alt=""></button>
            <button id="btnSwipe" class="btnViewerBar portraitOnly" style="border-radius: 0 5px 5px 0" onclick="app.viewer.toggleSwiping()"><img src="icon/swipe/24" alt=""></button>
            <button id="btnOrientations" class="btnViewerBarTab landscapeOnly" style="margin-top: 5px" title="%{Orientations}" onclick="app.viewer.setSubmenu(SUBMENU_ORIENTATIONS)"><img src="icon/orientations/24" alt=""></button>
            <button id="btnMeasures" class="btnViewerBarTab landscapeOnly" style="margin-top: 5px" title="%{Measurements}" onclick="app.viewer.setSubmenu(SUBMENU_MEASURES)"><img src="icon/ruler/24" alt=""></button>
        </div>
    </div>
    <div id="divDisplay">
        <div id="gridDisplay"></div>
        <div id="touchDragger"></div> <!-- a see-through square to simulate touch dragging of thumbnails -->
    </div>

    <!-- Pop-up dialogs -->
    <div id="divListviews" class="modal landscapeOnly" style="top: 10px"></div>  <!-- dynamically filled -->
    <div id="divViewports" class="modal"></div> <!-- dynamically filled in -->
    <div id="divSplit" class="modal" style="top: 300px">
        <p class="lblModalTitle">Split study</p>
        <button id="btnSplitFlagged" class="btnInModal btnFlagged" onclick="app.viewer.splitFlagged()">%{Flagged_series}* (<b class="lblCountFlagged">0</b>)</button>
        <button id="btnSplitNonFlagged" class="btnInModal" onclick="app.viewer.splitNonFlagged()">%{Non_flagged_series} (<b class="lblCountUnflagged">0</b>)</button>
        <button id="btnSplitBoth" class="btnInModal" onclick="app.viewer.splitBoth()">%{Both} (<b class="lblCountSeries">0</b>)</button>
        <p style="font-size: x-small; margin: 15px 0 5px 0">*%{flag-explanation}.</p>
    </div>
    <div id="divDownload" class="modal" style="top: 357px">
        <p class="lblModalTitle">Download series</p>
        <button id="btnDownloadSelected" class="btnInModal" onclick="app.viewer.download(DOWNLOAD_SELECTED)">%{Selected_series} (<b class="lblCountSelected">0</b>)</button>
        <button id="btnDownloadFlagged" class="btnInModal btnFlagged" onclick="app.viewer.download(DOWNLOAD_FLAGGED)">%{Flagged_series}* (<b class="lblCountFlagged">0</b>)</button>
        <button id="btnDownloadAll" class="btnInModal" onclick="app.viewer.download(DOWNLOAD_ALL)">%{All} (<b class="lblCountSeries">0</b>)</button>
        <p style="font-size: x-small; margin: 15px 0 5px 0">*%{flag-explanation}.</p>
    </div>
</div>
